{"version":3,"file":"main.js","mappings":"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","sources":["webpack://gulp-html-scss/./src/js/library/sumbiot/core/index.js","webpack://gulp-html-scss/./src/js/library/sumbiot/modules/modal/index.js","webpack://gulp-html-scss/./src/js/library/sumbiot/modules/modal/components/modal.js","webpack://gulp-html-scss/./src/js/modules/burger.js","webpack://gulp-html-scss/./src/js/main.js"],"sourcesContent":["\r\n/**\r\n *  Ядро Sumbiot\r\n * */\r\nexport default class Core {\r\n\r\n  /**\r\n   * Ширина скролла прокрутки\r\n   * @return {number}\r\n   */\r\n  calcScroll() {\r\n    let div = document.createElement('div');\r\n\r\n    div.style.width = '50px';\r\n    div.style.height = '50px';\r\n    div.style.overflowY = 'scroll';\r\n    div.style.visibility = 'hidden';\r\n\r\n    document.body.appendChild(div);\r\n\r\n    let scrollWidth = div.offsetWidth - div.clientWidth;\r\n\r\n    div.remove();\r\n\r\n    return scrollWidth;\r\n  }\r\n\r\n  /**\r\n   * Переполнение document\r\n   * @param {string} overflow - переполнения документа\r\n   * @param {string} marginRight - отступ документа с право\r\n   * @return {void}\r\n   */\r\n  overflowBody(overflow= '',marginRight = '') {\r\n\r\n    if (document.body.offsetHeight > document.documentElement.clientHeight) {\r\n      // проверяем а есть ли скрол вообще\r\n      document.body.style.overflow = overflow;\r\n      document.body.style.marginRight = marginRight ? `${marginRight}px` : '';\r\n    }\r\n  }\r\n\r\n}\r\n","import Core from \"../../core\"\r\n\r\n/**\r\n *  Модальное окно Ядро\r\n * */\r\nexport default class ModalCore extends Core {\r\n\r\n  /**\r\n   * Добавляет новый метод к модалки, не изменяя исходный код класса(первоначальную реализацию) {паттерн Visitor}\r\n   * @param {Function} visitor - добавляет функционал instanceClass\r\n   * @return {this}\r\n   */\r\n  accept(visitor) {\r\n    visitor(this)\r\n\r\n    return this\r\n  }\r\n}\r\n","import ModalCore from \"../\";\r\n\r\n/**\r\n *  Модальное окно стандарт\r\n * */\r\nexport default class Modal extends ModalCore {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} triggerSelector - селектор который открывает модальное окно.\r\n   * @param {string} modalSelector   - селектор модального окна которое мы будем открывать\r\n   *\r\n   * @param {Object=}     options                     - конфигурация.\r\n   *\r\n   * @param {string}      [options.closeSelector]     - селектор который закрывает модальное окно\r\n   * @param {boolean}     [options.closeClickOverlay] - будет ли закрываться окно по клику по подложки\r\n   *\r\n   * @param {string}      [options.modalGroup]        - группирует модалки в группы\r\n   *\r\n   * @param {null|string} [options.modalParent]       - селектор родитель куда вставляем модальное окно.\r\n   *\r\n   * @param {boolean}     [options.overflowHidden]    - убрать скролл у документа при появлении модального окна\r\n   */\r\n  constructor(triggerSelector, modalSelector,\r\n              {\r\n                closeSelector = '[data-sumbiot-modal-close]',\r\n                closeClickOverlay = true,\r\n\r\n                modalGroup = '[data-sumbiot-modal]',\r\n\r\n                modalParent = null,\r\n\r\n                overflowHidden = false\r\n              } = {}) {\r\n\r\n    super()\r\n\r\n    this._trigger = triggerSelector\r\n\r\n    this._modalSelector = modalSelector\r\n    this.modal = document.querySelector(modalSelector)\r\n\r\n    this._close = this.modal?.querySelector(closeSelector)\r\n\r\n    this._closeClickOverlay = closeClickOverlay || this.modal?.dataset.sumbiotOverlay === 'true' || false\r\n\r\n    this._modalGroup = modalGroup\r\n\r\n    this._modalParent = modalParent || this.modal?.dataset.sumbiotParent || false\r\n\r\n    this._overflowHidden = overflowHidden || (this.modal?.dataset.sumbiotOverflow && this.modal?.dataset.sumbiotOverflow === 'true') || false\r\n\r\n  }\r\n\r\n  /**\r\n   * Инициализация модального окона\r\n   * @return {this|Object}\r\n   */\r\n  init() {\r\n\r\n    if (!this.modal) {\r\n      console.log(\"Проверте у всех ли модальных окон, заданы корректные ID\")\r\n\r\n      return {}\r\n    }\r\n\r\n    this.hideAllModals()\r\n\r\n    this._showHandler()\r\n\r\n    this._closeHandler()\r\n\r\n    return this\r\n  }\r\n\r\n  /**\r\n   * Скрывает все модальные окна\r\n   * @param {boolean} group - скрыть только группу, которые относятся к модальному окну, которое мы хотим показать\r\n   * @return {void}\r\n   */\r\n  hideAllModals(group = false) {\r\n    let modals;\r\n\r\n    if(group) {\r\n      modals = document.querySelectorAll(`${this._modalGroup.slice(0,this._modalGroup.length - 1)}${this.modal.dataset.sumbiotModal ? `=\"${this.modal.dataset.sumbiotModal}\"` : ''}]`);\r\n\r\n      if(!modals.length) {\r\n        modals = document.querySelectorAll(this._modalGroup)\r\n      }\r\n    } else {\r\n      modals = document.querySelectorAll(this._modalGroup)\r\n    }\r\n\r\n    modals.forEach(modal => {\r\n      modal.classList.add('animated', 'fadeIn');\r\n      modal.style.display = 'none';\r\n    })\r\n\r\n    this.overflowBody()\r\n  }\r\n\r\n  /**\r\n   * Обработчик события клика по элементу который открывает модальное окно\r\n   * @return {void}\r\n   */\r\n  _showHandler() {\r\n    document.addEventListener('click', (e) => {\r\n      let target = e.target;\r\n\r\n      if (target && target.matches(this._trigger) && target.dataset.sumbiotTarget === this._modalSelector || target && target.parentElement.matches(this._trigger) && target.parentElement.dataset.sumbiotTarget === this._modalSelector) {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n\r\n        if (target.parentElement.matches(this._trigger)){\r\n          target = target.parentElement\r\n        }\r\n\r\n        this._eventTrigger = target\r\n        this.show()\r\n\r\n        setTimeout(() => target.blur(),150)\r\n      }\r\n    }, true)\r\n  }\r\n\r\n  /**\r\n   * Показать модальное окно\r\n   * @return {void}\r\n   */\r\n  show(){\r\n    this.hideAllModals(true)\r\n\r\n    this._modalPosition()\r\n\r\n    this.modal.style.display = 'block';\r\n  }\r\n\r\n  /**\r\n   * Позицианирует модальное окно в нужное место\r\n   * @return {void}\r\n   */\r\n  _modalPosition(){\r\n    if (this._overflowHidden) this.overflowBody('hidden',this.calcScroll())\r\n\r\n    if(this._modalParent) {\r\n      const modalParent = this._eventTrigger.closest(this._modalParent) || document.querySelector(this._modalParent) || this._eventTrigger.parentElement\r\n\r\n      modalParent.append(this.modal)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Обработчик события клика по элементу который закрывает модальное окно\r\n   * @return {void}\r\n   */\r\n  _closeHandler() {\r\n    this._close?.addEventListener('click', (e) => {\r\n      if (e.target) {\r\n        e.preventDefault()\r\n\r\n        this.close()\r\n      }\r\n    })\r\n\r\n    this.modal?.addEventListener('click', (e) => {\r\n      if (e.target) {\r\n        e.stopPropagation()\r\n\r\n        this._closeModalOverlay(e)\r\n      }\r\n    })\r\n\r\n    window.addEventListener(\"keydown\", (e) => {\r\n      if(e.key === \"Escape\" || e.keyCode === 27) {\r\n\r\n        this.hideAllModals()\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Скрыть модальное окно\r\n   * @return {void}\r\n   */\r\n  close() {\r\n    this.overflowBody()\r\n\r\n    this.modal.style.display = \"none\";\r\n  }\r\n\r\n  /**\r\n   * Скрывает модальне окно по клику на подложку\r\n   * @return {void}\r\n   */\r\n  _closeModalOverlay(e) {\r\n\r\n    if (e.target === this.modal && this._closeClickOverlay) {\r\n      this.overflowBody()\r\n\r\n      this.modal.style.display = \"none\";\r\n    }\r\n  }\r\n\r\n}\r\n","import Modal from '../library/sumbiot/modules/modal/components/modal'\r\n\r\n/**\r\n *  Бургер меню\r\n * */\r\nexport default class ModalBurger extends Modal {\r\n\r\n  /**\r\n   * Конструктор\r\n   * @param {string} triggerSelector - селектор который открывает модальное окно.\r\n   * @param {string} modalSelector   - селектор модального окна которое мы будем открывать\r\n   *\r\n   * @param {Object=}     options                     - конфигурация.\r\n   *\r\n   * @param {string}      [options.closeSelector]     - селектор который закрывает модальное окно\r\n   * @param {boolean}     [options.closeClickOverlay] - будет ли закрываться окно по клику по подложки\r\n   *\r\n   * @param {string}      [options.modalGroup]        - группирует модалки в группы\r\n   *\r\n   * @param {null|string} [options.modalParent]       - селектор родитель куда вставляем модальное окно.\r\n   *\r\n   * @param {boolean}     [options.overflowHidden]    - убрать скролл у документа при появлении модального окна\r\n   */\r\n  constructor(triggerSelector,modalSelector,options = {}) {\r\n\r\n    super(triggerSelector,modalSelector,options);\r\n\r\n    this._trigger = document.querySelector(triggerSelector)\r\n  }\r\n\r\n  /**\r\n   * Скрывает все модальные окна\r\n   * @param {boolean} group - скрыть только группу, которые относятся к модальному окну, которое мы хотим показать\r\n   * @return {void}\r\n   */\r\n  hideAllModals(group = false) {\r\n    let modals;\r\n\r\n    if(group) {\r\n      modals = document.querySelectorAll(`${this._modalGroup.slice(0,this._modalGroup.length - 1)}${this.modal.dataset.sumbiotModal ? `=\"${this.modal.dataset.sumbiotModal}\"` : ''}]`);\r\n\r\n      if(!modals.length) {\r\n        modals = document.querySelectorAll(this._modalGroup)\r\n      }\r\n    } else {\r\n      modals = document.querySelectorAll(this._modalGroup)\r\n    }\r\n\r\n    modals.forEach(modal => {\r\n      modal.classList.add('animated', 'fadeIn');\r\n      modal.style.display = 'none';\r\n    })\r\n\r\n    this._trigger.classList.remove('burger--active')\r\n\r\n    this.overflowBody()\r\n  }\r\n\r\n  /**\r\n   * Обработчик события клика по элементу который открывает модальное окно\r\n   * @return {void}\r\n   */\r\n  _showHandler() {\r\n\r\n    this._trigger.addEventListener('click', (e) => {\r\n\r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n\r\n      if(this._trigger.classList.contains('burger--active')) {\r\n        this.close()\r\n      } else {\r\n        this.show()\r\n      }\r\n\r\n    })\r\n\r\n  }\r\n\r\n  /**\r\n   * Показать модальное окно\r\n   * @return {void}\r\n   */\r\n  show(){\r\n    this.hideAllModals(true)\r\n\r\n    this._modalPosition()\r\n\r\n    this._trigger.classList.add('burger--active')\r\n\r\n    this.modal.style.display = 'block';\r\n  }\r\n\r\n  /**\r\n   * Обработчик события клика по элементу который закрывает модальное окно\r\n   * @return {void}\r\n   */\r\n  _closeHandler() {\r\n    this.modal?.addEventListener('click', (e) => {\r\n      if (e.target) {\r\n        e.stopPropagation()\r\n\r\n        this._closeModalOverlay(e)\r\n      }\r\n    })\r\n\r\n    window.addEventListener(\"keydown\", (e) => {\r\n      if(e.key === \"Escape\" || e.keyCode === 27) {\r\n\r\n        this.hideAllModals()\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Скрыть модальное окно\r\n   * @return {void}\r\n   */\r\n  close() {\r\n    this.overflowBody()\r\n\r\n    this._trigger.classList.remove('burger--active')\r\n\r\n    this.modal.style.display = \"none\";\r\n  }\r\n\r\n  /**\r\n   * Скрывает модальне окно по клику на подложку\r\n   * @return {void}\r\n   */\r\n  _closeModalOverlay(e) {\r\n\r\n    if (e.target === this.modal && this._closeClickOverlay) {\r\n      this.overflowBody()\r\n\r\n      this._trigger.classList.remove('burger--active')\r\n\r\n      this.modal.style.display = \"none\";\r\n    }\r\n  }\r\n\r\n}\r\n","import ModalBurger from './modules/burger'\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n\r\n  // бургер меню\r\n  new ModalBurger(\r\n    '.js-burger',\r\n    '.js-menu',\r\n    {\r\n      overflowHidden : true\r\n    }\r\n  ).init()\r\n\r\n})\r\n\r\n"],"names":["Core","calcScroll","div","document","createElement","style","width","height","overflowY","visibility","body","appendChild","scrollWidth","offsetWidth","clientWidth","remove","overflowBody","overflow","marginRight","offsetHeight","documentElement","clientHeight","ModalCore","accept","visitor","this","Modal","constructor","triggerSelector","modalSelector","closeSelector","closeClickOverlay","modalGroup","modalParent","overflowHidden","super","_trigger","_modalSelector","modal","querySelector","_close","_closeClickOverlay","dataset","sumbiotOverlay","_modalGroup","_modalParent","sumbiotParent","_overflowHidden","sumbiotOverflow","init","hideAllModals","_showHandler","_closeHandler","console","log","modals","querySelectorAll","slice","length","sumbiotModal","forEach","classList","add","display","addEventListener","e","target","matches","sumbiotTarget","parentElement","preventDefault","stopPropagation","_eventTrigger","show","setTimeout","blur","_modalPosition","closest","append","close","_closeModalOverlay","window","key","keyCode","ModalBurger","contains"],"sourceRoot":""}